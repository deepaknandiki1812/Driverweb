<div class="driver-edit-container">
  <h2>Edit Driver</h2>

  <!-- Display the ID (readonly, not part of the form) -->
  <div class="form-group">
    <label for="driverId">ID</label>
    <input id="driverId" [value]="driverId" readonly />
  </div>

  <form [formGroup]="driverForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">*Name</label>
      <input id="name" formControlName="name" placeholder="Enter name" />
      <div class="error" *ngIf="isSubmitted && driverForm.controls['name'].invalid">
        Name is required.
      </div>
    </div>

    <div class="form-group">
      <label for="vehicleNumber">*Vehicle Number</label>
      <input id="vehicleNumber" formControlName="vehicleNumber" placeholder="Enter vehicle number" />
      <div class="error" *ngIf="isSubmitted && driverForm.controls['vehicleNumber'].invalid">
        Vehicle number is required.
      </div>
    </div>

    <div class="form-group">
      <label for="email">*Email</label>
      <input id="email" formControlName="email" placeholder="Enter email" />
      <div class="error" *ngIf="isSubmitted && driverForm.controls['email'].invalid">
        Valid email is required.
      </div>
    </div>

    <div class="form-group">
      <label for="address">*Address</label>
      <input id="address" formControlName="address" placeholder="Enter address" />
      <div class="error" *ngIf="isSubmitted && driverForm.controls['address'].invalid">
        Address is required.
      </div>
    </div>

     <div class="form-field">
  <label for="joindate">*Join Date:</label>
 <input formControlName="joindate" type="date" />

</div>

<div class="form-field">
  <label for="image">*Image:</label> 

  
<input type="file" (change)="onImageSelected($event)" />

  <span *ngIf="selectedImageFile">{{ selectedImageFile.name }}</span>
  <div *ngIf="imagePreview" class="image-preview">
    <img [src]="imagePreview" alt="Image Preview" width="150" />
  </div>

  <div *ngIf="driverForm.get('image')?.invalid && driverForm.get('image')?.touched">
    <small class="error-message">Driver Image is required.</small>
  </div>
</div> 


    <div class="form-field">
  <label for="vehicletype">*Vehicle Type:</label>
  <select id="vehicletype" formControlName="vehicletype">
    <option value="">-- Select Vehicle Type --</option>
    <option value="Van">Van</option>
    <option value="Car">Car</option>
    <option value="Bus">Bus</option>
  </select>
</div>

<div *ngIf="driverForm.get('licence')?.value === null && imagePreview">
  <p>Existing Licence: <a [href]="driverForm.get('licence')?.value || ''" target="_blank">View Licence</a></p>
</div>

<input type="file" (change)="onLicenceSelected($event)" /> 



<div class="form-field">
  <label class="status-label">*Status:</label>
  <div class="radio-status-row">
    <label>
      <input type="radio" formControlName="status" [value]="true" />
      Active
    </label>
    <label>
      <input type="radio" formControlName="status" [value]="false" />
      Inactive
    </label>
  </div>
</div>




   
    <button type="submit" >Submit</button>
  </form>


  <div *ngIf="isSubmitted && driverForm.valid" class="success-message">
    Driver information updated successfully!
  </div>


  <div *ngIf="isSubmitted && !driverForm.valid" class="error-message">
    There was an issue updating the driver. Please try again.
  </div>
</div>
